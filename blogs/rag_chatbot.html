<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RAG Chatbot ‚Äì Blog</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #000;
      color: #fff;
    }
    a {
      color: #1E90FF;
      text-decoration: none;
    }
    a:hover {
      color: #0d6efd;
      text-decoration: none;
    }
    .navbar {
      background-color: #111 !important;
    }
    hr {
      border-color: #444;
    }
    h1, h2 {
      color: #fff;
    }
    pre {
      background-color: #111;
      color: #fff;
    }
    .text-muted {
      color: #aaa !important;
    }
    .btn-outline-primary {
      color: #1E90FF;
      border-color: #1E90FF;
    }
    .btn-outline-primary:hover {
      background-color: #1E90FF;
      color: #fff;
      border-color: #1E90FF;
    }

    /* Neon hover effect on images */
    .blog-img {
      transition: box-shadow 0.3s ease;
      border-radius: 10px;
      display: block;
      width: 100%;
    }
    .blog-img:hover {
      box-shadow:
        0 0 5px #1E90FF,
        0 0 10px #1E90FF,
        0 0 15px #1E90FF,
        0 0 20px #1E90FF;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand fw-bold" href="../index.html">‚Üê Back to Portfolio</a>
    </div>
  </nav>

  <!-- Blog Content -->
  <div class="container my-5">
    <h1 class="fw-bold mb-3">Building a Retrieval-Augmented Generation (RAG) Chatbot</h1>
    <p class="text-muted">Published on 25-08-2025</p>
    <hr class="mb-4">

    <!-- Intro -->
    <section class="mb-5">
      <h2>üîé What is a RAG Chatbot?</h2>
      <p>
        RAG stands for <strong>Retrieval-Augmented Generation</strong>. It combines:
      </p>
      <ul>
        <li>üîπ <b>Retriever</b> ‚Äì finds the most relevant pieces of data for a query</li>
        <li>üîπ <b>Generator</b> ‚Äì uses an LLM to create a natural-language answer</li>
      </ul>
      <p>
        Instead of relying only on pre-trained knowledge, the bot dynamically
        looks into your dataset first, then crafts an answer based on that context.
      </p>
    </section>

    <!-- Tech Stack -->
    <section class="mb-5">
      <h2>‚öôÔ∏è Tech Stack</h2>
      <ul>
        <li><strong>Python</strong> for scripting and data processing</li>
        <li><strong>Pandas</strong> for reading & cleaning CSV data</li>
        <li><strong>Sentence Transformers</strong> (<code>all-MiniLM-L6-v2</code>) for embeddings</li>
        <li><strong>FAISS</strong> for similarity search (retrieving relevant text chunks)</li>
        <li><strong>Flask</strong> for the minimal web UI</li>
        <li><strong>OpenRouter API</strong> to query a language model for response generation</li>
      </ul>
    </section>

    <!-- Implementation -->
    <section class="mb-5">
      <h2>üõ†Ô∏è Implementation Steps</h2>
      <ol>
        <li>Read <code>BotData.csv</code> and parse the <code>ChunkContentDto.Content</code> field</li>
        <li>Pre-process numeric/date fields for analytics queries</li>
        <li>Create embeddings with SentenceTransformer and store them in a FAISS index</li>
        <li>Detect if the user‚Äôs question is numeric (sum, average, etc.) or text-based</li>
        <li>For numeric queries ‚Üí compute directly and optionally format using the LLM</li>
        <li>For text queries ‚Üí retrieve relevant chunks & ask the LLM for a concise answer</li>
        <li>Serve a very light Flask HTML interface for asking questions</li>
      </ol>
    </section>

    <!-- Screenshots -->
    <section class="mb-5">
      <h2>üì∏ UI Previews</h2>
      <div class="row g-4">
        <div class="col-md-4">
          <img src="../images/blog_img/R3.png" alt="Chatbot Main Page" class="blog-img">
          <p class="text-muted mt-2 text-center">Chatbot Main Page</p>
        </div>
        <div class="col-md-4">
          <img src="../images/blog_img/R1.png" alt="Query Input & Retrieval" class="blog-img">
          <p class="text-muted mt-2 text-center">Query Input & Retrieval</p>
        </div>
        <div class="col-md-4">
          <img src="../images/blog_img/R2.png" alt="Answer Display & Context" class="blog-img">
          <p class="text-muted mt-2 text-center">Answer Display & Context</p>
        </div>
      </div>
    </section>

    <!-- Key Code Snippet -->
    <section class="mb-5">
      <h2>üìú Key Code Snippet</h2>
      <pre class="bg-dark text-light p-3 rounded">
<span class="text-info"># Build FAISS index</span>
data_embeddings = model.encode(blocks, convert_to_numpy=True)
dimension = data_embeddings.shape[1]
index = faiss.IndexFlatL2(dimension)
index.add(data_embeddings)

<span class="text-info"># Retrieve context</span>
def get_context(query, top_k=20, max_chars=12000):
    query_embedding = model.encode([query], convert_to_numpy=True)
    distances, indices = index.search(query_embedding, top_k)
    return "\n\n".join([blocks[i] for i in indices[0]])[:max_chars]

<span class="text-info"># Flask route</span>
@app.route("/", methods=["GET", "POST"])
def home():
    ...
      </pre>
      <p class="text-muted">Full code available on request or in the project files.</p>
    </section>

    <!-- Lessons Learned -->
    <section class="mb-5">
      <h2>üí° Lessons Learned</h2>
      <ul>
        <li>Managing embeddings efficiently is crucial for performance</li>
        <li>Prompt design matters ‚Äî concise context improves answer quality</li>
        <li>Logging errors from API calls saves debugging time</li>
        <li>Even a minimal Flask UI makes testing far easier than CLI</li>
      </ul>
    </section>

    <!-- Conclusion -->
    <section>
      <h2>üöÄ Conclusion</h2>
      <p>
        This project demonstrates how a lightweight RAG workflow can turn a simple CSV
        into a question-answering assistant. In the future, I plan to add authentication,
        better UI, and support for file uploads.
      </p>
    </section>

    <hr class="mt-5">
    <a href="../index.html" class="btn btn-outline-primary">‚Üê Back to Portfolio</a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
